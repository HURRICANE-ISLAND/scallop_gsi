knitr::opts_chunk$set(echo = TRUE)
# Load necessary libraries
library(tidyverse)
library(ggpubr)
library(patchwork)
library(hrbrthemes)
library(ggthemes)
# Set a custom theme for ggplot
theme_set(theme_tufte())
theme_update(plot.title =element_text(hjust=0.5),
axis.line.x = element_line(color="black", size=1),
element_line(color="black", size=1),
text = element_text(size=20),
axis.text = element_text(size=15))
# Load the data set
datlarge <- read_csv("GSI.tidy.csv")
# Data transformation
datlarge <- datlarge %>%
mutate(
# Setting categorical variables as factors
Site = as.factor(Site),
Gear_Type = as.factor(Gear_Type),
Level_Position = as.factor(Level_Position),
Sex = as.factor(Sex),
Meat_Color = as.factor(Meat_Color),
Year = as.factor(Year),
# Setting Date as date
Date = as.Date(Date),
# Creating a new variable "type" based on the condition "Gear_Type";
# if Lantern_Net or Cage, type = Farm | if not, type = Wild
type = if_else(Gear_Type %in% c("Lantern_Net", "Cage"), "Farm", "Wild")
)
# Data cleaning
# dat large includes data from 2019-2022 & all gear types
# dat removes (1) 2019 data, (2) cage data, & (3) 1 week of mis-entered data in 2022
# Filtering out above data types
datlarge %>%
filter(Year != 2019,
Gear_Type != "Cage",
Date != "2022-06-28") ->
dat
# Define shell size classes
dat$sc <- cut(dat$Shell_Height,
breaks = c(30, 50, 60, 70, 80, 90, 100, 110, Inf),
labels = c("<50", "50-59", "60-69", "70-79", "80-89", "90-99", "100-109", ">110"),
include.lowest = FALSE)
dat$sc <- as.factor(dat$sc)
summary(dat$sc)
###=========================================###
### Figures from Sea-Bird CTD data ###
###=========================================###
# FOR CREATING AN R MARKDOWN PDF:
# Easiest way is to >File >Compile Report... >MS Word >Compile
# ...or...
# If you need to install R markdown
# install.packages("rmarkdown")
# library(rmarkdown)
# If you need to install knitr (for R markdown)
# install.packages("knitr")
# library(knitr)
# install.packages('tinytex')
# tinytex::install_tinytex()
# rmarkdown::render("Supplemental.Figures.R", output_format="word_document")
#............................................................................
# Make sure you have everything you need to do this:
#............................................................................
# If you need to install ggplot2 (package used to make plots)
# install.packages("ggplot2")
library(ggplot2)
# If you need to install tidyverse (package used to read excel files into R)
# install.packages(“tidyverse”)
library(tidyverse)
# If you need to install oce (package used to select dates)
# install.packages("oce”)
library(oce)
# If you need to install gsw
# install.packages(“gsw”)
library(gsw)
# If you need to install leaflet (package used to subset and group data)
# install.packages(“leaflet”)
library(leaflet)
# If you need to install couplet (package used to subset and group data)
# install.packages(“couplet”)
library(cowplot)
#............................................................................
# To begin:
#............................................................................
# If you want use the metadata file...
# Set the working directory
#setwd("/Users/sean/Desktop/R_code_SPO/)
# Load .cnv data file
#ctd = read.ctd("./20230902 Station 5 Deep_proc.cnv")
ctd = read_csv("CTD_Practice.csv")
setwd("Users/phoebejekielek/Desktop/CTD_Practice.csv")
setwd("Users/phoebejekielek/Desktop/CTD_Practice.csv")
